package com.example.demo.Service;

import com.example.demo.Model.User;
import com.example.demo.Repository.UserLoginDataRepo;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.Optional;
@Service
public class LoginServices {
    @Autowired
    UserLoginDataRepo userLoginDataRepo;

    public Optional<User> Signup(User user){
        Optional<User> checkuser= userLoginDataRepo.findById(user.getUsername());
        if(checkuser.isEmpty()){
            userLoginDataRepo.save(user);
            return Optional.of(user);
        }
        return Optional.empty();
    }
    public Optional<User> Login(User user){
        Optional<User> checkuser=userLoginDataRepo.findById(user.getUsername());
        if(checkuser.isEmpty()){
            return Optional.empty();
        }
        if(checkuser.get().getPassword().equals(user.getPassword())){
            return checkuser;
        }
        return Optional.empty() ;
    }



}
